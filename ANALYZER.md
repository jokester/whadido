# analyzer


## Analyze Heuristics

We make the following assumptions:

- timestamp can be trusted
    - host's local time does not suddenly change (e.g. jump back to 1 year ago)
    - that means: we can group reflogs with timestamp
- no 2 commands is executed simmutaltounsly
    - it may be much harder to analyze interleaved reflog messages
- reflog message is only generated by default `git` commands, and default behavior
    - `--reflog-action` or `GIT_REFLOG_ACTION` may override reflog message
    - non c-git implementation may work differently
    - that means we may not cover all message patterns

## Caveats



## Command patterns

Local:

- checkout
    - HEAD
- commit
- reset
- merge
- cherry-pick
- rebase - current branch
    - checkout
- TODO: see if there are more

Remote:

- fetch
- pull
- push

### How is reflog messages generated (c-git)

This is how I grep related code in `git` repo:

(Feeling that this cannot be a exhaustive way, will add more if I found them).

```text
$ cd ~/oss/git

$ grep -e reflog_message -e reflog_msg -Rin .
```

