# analyzer

## Parser Input

## Parser Output

## Dependicies and Assumptions

1. timestamp can be trusted
    - host's local time does not suddenly change (e.g. jump back to 1 year ago)
    - consequence: we can group reflogs with timestamp
2. no 2 commands is executed simmutaltounsly
    - it may be much harder to analyze interleaved reflog messages
3. reflog message is only generated by default `git` commands, and default behavior
    - `--reflog-action` or `GIT_REFLOG_ACTION` may override reflog message
    - non c-git implementation may work differently
    - that means we may not cover all message patterns



## Command patterns

Local Branch:

- checkout
    - HEAD
- commit
- reset
- merge
- cherry-pick
- rebase - current branch
    - checkout
- TODO: see if there are more

Remote:

- fetch
- pull
- push

## Caveats and Foundings

### How is reflog messages generated (c-git)

This is how I grep related code in `git` repo:

(Feeling that this cannot be a exhaustive way, will add more if I found them).

```text
$ cd ~/oss/git

$ grep -e reflog_message -e reflog_msg -Rin .
```
